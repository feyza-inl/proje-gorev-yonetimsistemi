<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGYS - Proje Görev Yönetim Sistemi</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <div class="logo">
                <div class="logo-icon">
                    <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
                        <rect x="6" y="6" width="20" height="20" rx="4" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 16L15 19L20 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="logo-text">PGYS</span>
            </div>

            <ul class="nav-menu" id="navMenu">
                <li><a href="#anasayfa" class="nav-link active">Ana Sayfa</a></li>
                <li><a href="#projeler" class="nav-link">Projeler</a></li>
                <li><a href="#gorevler" class="nav-link">Görevler</a></li>
                <li><a href="#ekip" class="nav-link">Ekip</a></li>
            </ul>

            <div class="nav-actions">
                <!-- Giriş Yapmadan Önce -->
                <div id="navActionsGuest" class="nav-actions-guest">
                    <button class="btn-outline" onclick="showLogin()">Giriş Yap</button>
                    <button class="btn-primary" onclick="showRegister()">Kaydol</button>
                </div>

                <!-- Giriş Yaptıktan Sonra -->
                <div id="navActionsUser" class="nav-actions-user" style="display: none;">
                    <div class="user-profile" onclick="toggleUserMenu()">
                        <div class="user-avatar" id="navUserAvatar">
                            <span id="navUserInitials">?</span>
                        </div>
                        <div class="user-info">
                            <span class="user-name" id="navUserName">Kullanıcı</span>
                            <span class="user-role">Üye</span>
                        </div>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" class="dropdown-icon">
                            <path d="M6 8L10 12L14 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>

                    <!-- User Dropdown Menu -->
                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-header">
                            <div class="dropdown-user-info">
                                <div class="dropdown-avatar" id="dropdownUserAvatar">
                                    <span id="dropdownUserInitials">?</span>
                                </div>
                                <div>
                                    <div class="dropdown-name" id="dropdownUserName">Kullanıcı</div>
                                    <div class="dropdown-email" id="dropdownUserEmail">email@example.com</div>
                                </div>
                            </div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <a href="profile.html" class="dropdown-item">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                                <path d="M4 20C4 16.6863 6.68629 14 10 14H14C17.3137 14 20 16.6863 20 20" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Profilim
                        </a>
                        <a href="profile.html" class="dropdown-item">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Ayarlar
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout" onclick="handleLogout()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Çıkış Yap
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="anasayfa">
        <div class="container hero-container">
            <div class="hero-content">
                <div class="hero-badge">
                    <span class="badge-dot"></span>
                    Kurumsal Proje Yönetimi
                </div>
                <h1 class="hero-title">
                    Proje Yönetimini<br>
                    <span class="gradient-text">Basitleştirin</span>
                </h1>
                <p class="hero-description">
                    PGYS ile proje ve görevlerinizi tek platformda yönetin.
                    Ekip işbirliği, ilerleme takibi ve raporlama artık çok daha kolay.
                </p>
                <div class="hero-actions">
                    <button class="btn-hero-primary" onclick="scrollToSection('projeler')">
                        Başlayın
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M7 4L13 10L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M22 12h-4l-3 9L9 3l-3 9H2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="stat-value" id="statProjects">0</div>
                        <div class="stat-label">Aktif Proje</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 11l3 3L22 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="stat-value" id="statTasks">0</div>
                        <div class="stat-label">Tamamlanan Görev</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                                <path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="stat-value" id="statUsers">0</div>
                        <div class="stat-label">Ekip Üyesi</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section class="projects" id="projeler">
        <div class="container">
            <div class="section-header">
                <div class="header-top">
                    <div>
                        <h2 class="section-title">Projeler</h2>
                        <p class="section-subtitle">Aktif projelerinizi yönetin</p>
                    </div>
                    <button class="btn-primary" onclick="showProjectModal()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 5V15M5 10H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        Yeni Proje
                    </button>
                </div>
            </div>
            <div class="projects-grid" id="projectsContainer">
                <!-- Projects will be loaded here dynamically -->
            </div>
        </div>
    </section>

    <!-- Tasks Section -->
    <section class="tasks" id="gorevler">
        <div class="container">
            <div class="section-header">
                <div class="header-top">
                    <div>
                        <h2 class="section-title">Görevler</h2>
                        <p class="section-subtitle">Görev durumlarını takip edin</p>
                    </div>
                    <button class="btn-primary" onclick="showTaskModal()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 5V15M5 10H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        Yeni Görev
                    </button>
                </div>
            </div>
            <div class="tasks-filters">
                <button class="filter-btn active" data-filter="all">Tümü</button>
                <button class="filter-btn" data-filter="1">Yeni</button>
                <button class="filter-btn" data-filter="2">Devam Ediyor</button>
                <button class="filter-btn" data-filter="3">Test Ediliyor</button>
                <button class="filter-btn" data-filter="4">Tamamlandı</button>
            </div>
            <div class="tasks-grid" id="tasksContainer">
                <!-- Tasks will be loaded here dynamically -->
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section class="team" id="ekip">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Ekip Üyeleri</h2>
                <p class="section-subtitle">Proje ekibiniz</p>
            </div>
            <div class="team-grid" id="teamContainer">
                <!-- Team members will be loaded here dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo">
                        <div class="logo-icon">
                            <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
                                <rect x="6" y="6" width="20" height="20" rx="4" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 16L15 19L20 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <span class="logo-text">PGYS</span>
                    </div>
                    <p class="footer-description">
                        Proje Görev Yönetim Sistemi<br>
                        Veritabanı Lab Projesi II
                    </p>
                </div>
                <div class="footer-info">
                    <h4>Geliştirici Ekip</h4>
                    <p>Zeynep Münteha Eren (231220037)</p>
                    <p>Feyza İnal (231220049)</p>
                    <p>Afra Sultan Bağcı (231220093)</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 PGYS. Tüm hakları saklıdır.</p>
                <p>Necmettin Erbakan Üniversitesi</p>
            </div>
        </div>
    </footer>

    <!-- Modals -->

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Giriş Yap</h3>
                <button class="close-btn" onclick="closeModal('loginModal')">&times;</button>
            </div>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>E-posta</label>
                    <input type="email" id="loginEmail" required placeholder="ornek@email.com">
                </div>
                <div class="form-group">
                    <label>Şifre</label>
                    <input type="password" id="loginPassword" required placeholder="••••••••">
                </div>
                <button type="submit" class="btn-primary btn-full">Giriş Yap</button>
                <div class="form-footer">
                    <span>Hesabınız yok mu?</span>
                    <a href="#" onclick="closeModal('loginModal'); showRegister(); return false;">
                        Kaydol
                    </a>
                </div>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Kayıt Ol</h3>
                <button class="close-btn" onclick="closeModal('registerModal')">&times;</button>
            </div>
            <form id="registerForm" onsubmit="handleRegister(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label>Ad *</label>
                        <input type="text" id="registerAd" required placeholder="Adınız">
                    </div>
                    <div class="form-group">
                        <label>Soyad *</label>
                        <input type="text" id="registerSoyad" required placeholder="Soyadınız">
                    </div>
                </div>
                <div class="form-group">
                    <label>E-posta *</label>
                    <input type="email" id="registerEmail" required placeholder="ornek@email.com">
                </div>
                <div class="form-group">
                    <label>Şifre *</label>
                    <input type="password" id="registerPassword" required placeholder="••••••••" minlength="6">
                    <small>En az 6 karakter</small>
                </div>
                <div class="form-group">
                    <label>Şifre Tekrar *</label>
                    <input type="password" id="registerPasswordConfirm" required placeholder="••••••••">
                </div>
                <button type="submit" class="btn-primary btn-full">Kayıt Ol</button>
                <div class="form-footer">
                    <span>Zaten hesabınız var mı?</span>
                    <a href="#" onclick="closeModal('registerModal'); showLogin(); return false;">
                        Giriş Yap
                    </a>
                </div>
            </form>
        </div>
    </div>

    <!-- Project Modal -->
    <div id="projectModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="projectModalTitle">Yeni Proje Oluştur</h3>
                <button class="close-btn" onclick="closeModal('projectModal')">&times;</button>
            </div>
            <form id="projectForm" onsubmit="handleProjectSubmit(event)">
                <input type="hidden" id="projectId">
                <div class="form-row">
                    <div class="form-group">
                        <label>Proje Adı *</label>
                        <input type="text" id="projectName" required placeholder="Proje adını girin">
                    </div>
                    <div class="form-group">
                        <label>Bütçe (TL)</label>
                        <input type="number" step="0.01" id="projectBudget" placeholder="0.00">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Başlangıç Tarihi *</label>
                        <input type="date" id="projectStartDate" required>
                    </div>
                    <div class="form-group">
                        <label>Bitiş Tarihi</label>
                        <input type="date" id="projectEndDate">
                    </div>
                </div>
                <div class="form-group">
                    <label>Proje Yöneticisi</label>
                    <select id="projectManager">
                        <option value="">Seçiniz...</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-outline" onclick="closeModal('projectModal')">İptal</button>
                    <button type="submit" class="btn-primary">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Task Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="taskModalTitle">Yeni Görev Oluştur</h3>
                <button class="close-btn" onclick="closeModal('taskModal')">&times;</button>
            </div>
            <form id="taskForm" onsubmit="handleTaskSubmit(event)">
                <input type="hidden" id="taskId">
                <div class="form-group">
                    <label>Görev Adı *</label>
                    <input type="text" id="taskName" required placeholder="Görev adını girin">
                </div>
                <div class="form-group">
                    <label>Açıklama</label>
                    <textarea id="taskDescription" rows="4" placeholder="Görev detaylarını açıklayın"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Proje *</label>
                        <select id="taskProject" required>
                            <option value="">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Teslim Tarihi *</label>
                        <input type="date" id="taskDueDate" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Durum</label>
                        <select id="taskStatus">
                            <option value="1">Yeni</option>
                            <option value="2">Devam Ediyor</option>
                            <option value="3">Test Ediliyor</option>
                            <option value="4">Tamamlandı</option>
                            <option value="5">Askıya Alındı</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Öncelik</label>
                        <select id="taskPriority">
                            <option value="1">Kritik</option>
                            <option value="2">Yüksek</option>
                            <option value="3">Orta</option>
                            <option value="4">Düşük</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-outline" onclick="closeModal('taskModal')">İptal</button>
                    <button type="submit" class="btn-primary">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>